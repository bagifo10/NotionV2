import{c as b,i as C,d as E,s as h}from"./data-DswU4KLL.js";function w(){const m=document.createElement("div");m.className="flex-col w-full h-full gap-md";const u=document.createElement("div");u.className="flex items-center justify-between mb-4";const g=document.createElement("h2");g.innerText="Proyectos",g.style.fontWeight="600";const s=document.createElement("button");s.innerText="+ Nuevo Proyecto",s.className="hover-bg",s.style.padding="8px 16px",s.style.backgroundColor="var(--accent-primary)",s.style.color="var(--bg-app)",s.style.borderRadius="var(--radius-sm)",s.style.fontWeight="500",s.onclick=()=>{const l=prompt("Nombre del Proyecto:");l&&(b({title:l,status:"PlanificaciÃ³n",progress:0,color:"#a68a64"}),d())},u.appendChild(g),u.appendChild(s);const a=document.createElement("div");a.style.display="grid",a.style.gridTemplateColumns="repeat(auto-fill, minmax(280px, 1fr))",a.style.gap="var(--spacing-md)";const d=()=>{a.innerHTML="";const l=C();if(l.length===0){a.innerHTML='<div style="grid-column: 1/-1; text-align: center; color: var(--text-muted); padding: 2rem;">No hay proyectos activos.</div>';return}l.forEach(t=>{const e=document.createElement("div");e.className="hover-bg flex-col gap-sm",e.style.backgroundColor="var(--bg-card)",e.style.padding="var(--spacing-lg)",e.style.borderRadius="var(--radius-md)",e.style.border="1px solid var(--border-light)",e.style.cursor="pointer",e.style.transition="transform 0.2s",e.style.position="relative",e.onmouseover=()=>e.style.transform="translateY(-2px)",e.onmouseout=()=>e.style.transform="translateY(0)";const o=document.createElement("button");o.innerText="ðŸ—‘ï¸",o.style.position="absolute",o.style.top="10px",o.style.right="10px",o.style.opacity="0.3",o.style.fontSize="0.8rem",o.onmouseenter=()=>o.style.opacity="1",o.onmouseleave=()=>o.style.opacity="0.3",o.onclick=c=>{c.stopPropagation(),confirm(`Â¿Eliminar proyecto "${t.title}"?`)&&(E(t.id),d())},e.appendChild(o);const n=document.createElement("span");n.innerText=t.status,n.className="text-xs",n.style.padding="2px 8px",n.style.backgroundColor=`${t.color}33`,n.style.color=t.color,n.style.borderRadius="var(--radius-full)",n.style.width="fit-content",n.onclick=c=>{c.stopPropagation();const p=prompt("Nuevo estado (En Progreso, Listo, PlanificaciÃ³n):",t.status);p&&(t.status=p,h(l),d())};const y=document.createElement("h3");y.innerText=t.title,y.style.fontSize="1.1rem",y.style.fontWeight="500";const r=document.createElement("div");r.className="w-full",r.style.height="8px",r.style.backgroundColor="var(--bg-active)",r.style.borderRadius="var(--radius-full)",r.style.marginTop="auto",r.style.cursor="e-resize",r.title="Clic para cambiar progreso";const i=document.createElement("div");i.style.width=`${t.progress}%`,i.style.height="100%",i.style.backgroundColor=t.color,i.style.borderRadius="var(--radius-full)",i.style.transition="width 0.3s ease",r.appendChild(i),r.onclick=c=>{c.stopPropagation();const p=r.getBoundingClientRect(),f=c.clientX-p.left,v=p.width,x=Math.round(f/v*100);t.progress=Math.max(0,Math.min(100,x)),h(l),i.style.width=`${t.progress}%`},e.appendChild(n),e.appendChild(y),e.appendChild(r),a.appendChild(e)})};return d(),window.addEventListener("data-change-projects",d),m.appendChild(u),m.appendChild(a),m}export{w as Projects};
