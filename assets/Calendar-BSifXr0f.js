import{h as f,b as C}from"./data-DswU4KLL.js";function w(){const b=document.createElement("div");b.className="flex-col w-full h-full gap-md";let r=new Date,h="month";const y=()=>{b.innerHTML="";const g=r.getFullYear(),s=r.getMonth(),d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],x=document.createElement("div");x.className="flex items-center justify-between";const a=document.createElement("div");a.className="flex items-center gap-md";const m=document.createElement("h2");m.innerText=`${d[s]} ${g}`,m.style.fontWeight="600";const c=document.createElement("div");c.className="flex gap-sm";const t=document.createElement("button");t.innerText="‹",t.style.fontSize="1.2rem",t.className="hover-bg w-8 h-8 rounded flex items-center justify-center",t.onclick=()=>{h==="month"?r.setMonth(r.getMonth()-1):r.setDate(r.getDate()-7),y()};const o=document.createElement("button");o.innerText="›",o.style.fontSize="1.2rem",o.className="hover-bg w-8 h-8 rounded flex items-center justify-center",o.onclick=()=>{h==="month"?r.setMonth(r.getMonth()+1):r.setDate(r.getDate()+7),y()},c.appendChild(t),c.appendChild(o),a.appendChild(m),a.appendChild(c);const l=document.createElement("div");l.className="flex items-center gap-sm bg-card p-1 rounded",l.style.backgroundColor="var(--bg-card)",l.style.padding="4px",l.style.borderRadius="var(--radius-md)",["Mes","Semana"].forEach((n,v)=>{const i=document.createElement("button");i.innerText=n,i.style.padding="6px 12px",i.style.borderRadius="var(--radius-sm)",i.style.fontSize="0.9rem",n==="Mes"&&h==="month"||n==="Semana"&&h==="week"?(i.style.backgroundColor="var(--bg-active)",i.style.color="var(--text-main)"):i.style.color="var(--text-muted)",i.onclick=()=>{h=n==="Mes"?"month":"week",y()},l.appendChild(i)}),x.appendChild(a),x.appendChild(l);const e=document.createElement("div");e.className="calendar-grid",e.style.display="grid",e.style.gap="1px",e.style.backgroundColor="var(--border-light)",e.style.border="1px solid var(--border-light)",e.style.borderRadius="var(--radius-md)",e.style.overflow="auto",e.style.flex="1",h==="month"?(e.style.gridTemplateColumns="repeat(7, 1fr)",e.style.gridAutoRows="minmax(80px, 1fr)",E(e,g,s)):(e.style.gridTemplateColumns="repeat(7, 1fr)",e.style.gridAutoRows="minmax(300px, 1fr)",D(e,r)),b.appendChild(x),b.appendChild(e)},E=(g,s,d)=>{["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].forEach(t=>{const o=document.createElement("div");o.innerText=t,o.className="flex justify-center items-center text-muted text-xs",o.style.backgroundColor="var(--bg-app)",o.style.padding="4px",o.style.fontWeight="500",o.style.height="30px",g.appendChild(o)});const a=new Date(s,d,1).getDay(),m=new Date(s,d+1,0).getDate(),c=f();for(let t=0;t<a;t++){const o=document.createElement("div");o.style.backgroundColor="var(--bg-card)",g.appendChild(o)}for(let t=1;t<=m;t++){const l=new Date(s,d,t).toISOString().split("T")[0],e=document.createElement("div");e.style.backgroundColor="var(--bg-card)",e.style.padding="6px",e.className="hover-bg flex-col gap-xs",e.style.cursor="pointer";const n=document.createElement("span");n.className="text-xs text-muted",n.innerText=t;const v=new Date;t===v.getDate()&&d===v.getMonth()&&s===v.getFullYear()&&(n.style.backgroundColor="var(--accent-primary)",n.style.color="var(--bg-app)",n.style.width="20px",n.style.height="20px",n.style.borderRadius="50%",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center"),e.appendChild(n),c.filter(p=>p.date===l).forEach(p=>{const u=document.createElement("div");u.className="text-xs truncate",u.innerText=p.title,u.style.padding="2px 4px",u.style.backgroundColor=`${p.color}44`,u.style.color=p.color,u.style.borderRadius="2px",u.style.marginTop="2px",e.appendChild(u)}),e.onclick=()=>{const p=prompt(`Nuevo evento para ${l}:`);p&&(C({title:p,date:l,color:"var(--text-main)"}),y())},g.appendChild(e)}},D=(g,s)=>{const d=new Date(s);d.setDate(s.getDate()-s.getDay());const x=["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"];for(let a=0;a<7;a++){const m=new Date(d);m.setDate(d.getDate()+a);const c=m.toISOString().split("T")[0],t=document.createElement("div");t.className="flex-col hover-bg",t.style.backgroundColor="var(--bg-card)",t.style.padding="8px",t.style.borderLeft=a>0?"1px solid var(--border-light)":"none",t.style.cursor="pointer";const o=document.createElement("div");o.className="text-center border-b pb-2 mb-2",o.style.borderBottom="1px solid var(--border-light)",o.innerHTML=`
                <div class="text-xs text-muted uppercase">${x[a]}</div>
                <div class="text-lg font-bold">${m.getDate()}</div>
            `,t.appendChild(o),f().filter(e=>e.date===c).forEach(e=>{const n=document.createElement("div");n.innerText=e.title,n.style.padding="4px 8px",n.style.backgroundColor=`${e.color}44`,n.style.color=e.color,n.style.borderRadius="4px",n.style.marginBottom="4px",n.style.fontSize="0.85rem",t.appendChild(n)}),t.onclick=()=>{const e=prompt(`Nuevo evento para ${c}:`);e&&(C({title:e,date:c,color:"var(--text-main)"}),y())},g.appendChild(t)}};return y(),window.addEventListener("data-change-events",y),b}export{w as Calendar};
