const i={TASKS:"notionia_tasks",PROJECTS:"notionia_projects",EVENTS:"notionia_events"};function s(){const t=localStorage.getItem(i.TASKS);return t?JSON.parse(t):[{id:1,title:"Investigar Modelos IA",priority:"Alta",due:"Hoy",done:!1},{id:2,title:"Borrador Sistema Diseño",priority:"Media",due:"Mañana",done:!0},{id:3,title:"Comprar Leche",priority:"Baja",due:"Hoy",done:!1}]}function d(t){localStorage.setItem(i.TASKS,JSON.stringify(t)),window.dispatchEvent(new Event("data-change-tasks"))}function f(t){const n=s();return t.id=Date.now(),n.unshift(t),d(n),t}function S(t){const n=s().filter(e=>e.id!==t);d(n)}function p(t,n){const e=s(),o=e.findIndex(a=>a.id===t);return o!==-1?(e[o]={...e[o],...n},d(e),e[o]):null}function r(){const t=localStorage.getItem(i.PROJECTS);return t?JSON.parse(t):[{id:1,title:"Rediseño Web",status:"En Progreso",progress:65,color:"#a68a64"},{id:2,title:"App Móvil",status:"Planificación",progress:10,color:"#8c7b6c"}]}function u(t){localStorage.setItem(i.PROJECTS,JSON.stringify(t)),window.dispatchEvent(new Event("data-change-projects"))}function g(t){const n=r();return t.id=Date.now(),n.push(t),u(n),t}function E(t){const n=r().filter(e=>e.id!==t);u(n)}function v(t,n){const e=r(),o=e.findIndex(a=>a.id===t);return o!==-1?(e[o]={...e[o],...n},u(e),e[o]):null}function c(){const t=localStorage.getItem(i.EVENTS);return t?JSON.parse(t):[{id:1,title:"Reunión Equipo",date:new Date().toISOString().split("T")[0],color:"#a68a64"}]}function l(t){localStorage.setItem(i.EVENTS,JSON.stringify(t)),window.dispatchEvent(new Event("data-change-events"))}function T(t){const n=c();return t.id=Date.now(),n.push(t),l(n),t}function w(t){const n=c().filter(e=>e.id!==t);l(n)}function I(t,n){const e=c(),o=e.findIndex(a=>a.id===t);return o!==-1?(e[o]={...e[o],...n},l(e),e[o]):null}function O(){return{tasks:s(),projects:r(),events:c(),today:new Date().toLocaleDateString()}}export{T as addEvent,g as addProject,f as addTask,w as deleteEvent,E as deleteProject,S as deleteTask,c as getEvents,O as getFullContext,r as getProjects,s as getTasks,l as saveEvents,u as saveProjects,d as saveTasks,I as updateEvent,v as updateProject,p as updateTask};
